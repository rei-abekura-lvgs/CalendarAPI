# 四柱推命・算命学対応 機能拡張提案

## 現在の実装状況
- ✅ 十干十二支（基本） - 日柱の干支のみ
- ✅ 29項目の基本暦データ

## 追加すべき四柱推命関連データ

### 1. 五行情報（優先度：高）
```json
{
  "gogyou_info": {
    "jikkan_element": "土",      // 十干の五行
    "jikkan_yin_yang": "陰",     // 陰陽
    "junishi_element": "火",     // 十二支の五行
    "daily_element": "土",       // 日の主要五行
    "element_balance": "土強"    // 五行バランス
  }
}
```

### 2. 十干十二支の詳細属性（優先度：高）
```json
{
  "jikkan_details": {
    "character": "己",
    "element": "土",
    "yin_yang": "陰", 
    "nature": "田畑",
    "personality": "献身的、世話好き"
  },
  "junishi_details": {
    "character": "未",
    "element": "土",
    "animal": "羊",
    "direction": "南南西",
    "time_period": "13-15時",
    "season": "夏"
  }
}
```

### 3. 十二運（優先度：中）
日干と月支の関係から算出される運勢の強弱
```json
{
  "juuni_un": {
    "stage": "帝旺",           // 十二運の段階
    "strength": "強",          // 運勢の強さ
    "description": "最も勢いのある時期"
  }
}
```

### 4. 納音（優先度：中）
60干支の組み合わせによる象意
```json
{
  "nacchin": {
    "name": "天上火",
    "element": "火",
    "meaning": "理想高く、精神的"
  }
}
```

### 5. 空亡・天中殺（優先度：中）
```json
{
  "kuubou": {
    "is_kuubou": false,        // 空亡期間かどうか
    "kuubou_type": null,       // 空亡の種類
    "effect": null             // 影響
  }
}
```

### 6. 神煞（優先度：低）
吉凶神の配置
```json
{
  "shinsatsu": {
    "lucky_gods": ["天徳", "月徳"],    // 吉神
    "unlucky_gods": [],               // 凶神
    "special_stars": ["文昌星"]       // 特殊星
  }
}
```

## 実装の優先順位

### Phase 1: 基本五行情報（即実装推奨）
1. 十干・十二支の五行属性
2. 陰陽情報
3. 基本的な性格・性質
4. 方位・時間情報

### Phase 2: 運勢計算（中期実装）
1. 十二運の基本計算
2. 納音の60パターン
3. 五行バランス分析

### Phase 3: 高度な占術（長期実装）
1. 空亡・天中殺計算
2. 神煞の詳細配置
3. 大運・流年との関係

## 技術実装案

### データ構造拡張
現在の29項目に加えて：
```json
{
  // 既存フィールド...
  "jikkan_junishi": "己未",
  
  // 新規追加フィールド
  "gogyou_jikkan": "土",
  "gogyou_junishi": "土", 
  "yin_yang": "陰",
  "junishi_animal": "羊",
  "junishi_direction": "南南西",
  "junishi_time": "13-15時",
  "element_strength": "土強",
  "personality_traits": "献身的、世話好き、協調性",
  "daily_fortune_element": "安定運、継続力"
}
```

### 運勢機能との統合
既存の29項目運勢計算に四柱推命要素を追加：
- 五行バランスによる運勢補正
- 十干十二支の相性分析
- 性格特性に基づく行動指針

## 利用シーン

### 個人向け
- 日々の性格傾向把握
- 五行バランスに基づく健康管理
- 方位・時間の活用指針

### 専門家向け
- 四柱推命の基礎データ提供
- 他の命術との組み合わせ
- 占術アプリの開発基盤

## 実装工数見積もり

### Phase 1（基本五行情報）
- データ定義：1-2時間
- 計算ロジック実装：2-3時間
- 全12年分データ生成：1時間
- UI表示対応：1-2時間
- **合計：5-8時間**

### Phase 2（運勢計算）
- 十二運計算：3-4時間
- 納音データベース：2-3時間
- **合計：5-7時間**

### Phase 3（高度な占術）
- 空亡計算：4-5時間
- 神煞データベース：6-8時間
- **合計：10-13時間**

## 推奨実装

**即実装推奨（Phase 1）:**
五行・陰陽・動物・方位・時間・性格特性の6-8項目を追加し、35-37項目の暦データAPIとして完成させる。

これにより四柱推命の基礎データとして十分活用可能になり、専門的な占術利用にも対応できます。